## 什么是微前端



## 什么情况下需要微前端

- 不同的技术栈需要集成
- 项目模块有明晰的边界
- 项目的代码量难以维护
- 组织架构与后端的协调
- 需要渐进式的技术重构

> Micro Frontends背后的想法是将网站或Web应用视为独立团队拥有的功能组合。 每个团队都有一个独特的业务或任务领域，做他们关注和专注的事情。团队是跨职能的，从数据库到用户界面开发端到端的功能。（[micro-frontends.org](https://link.zhihu.com/?target=https%3A//micro-frontends.org/)）

![image-20200923150810164](https://kuimo-markdown-pic.oss-cn-hangzhou.aliyuncs.com/image-20200923150810164.png)



## npm包实现的微前端有哪些弊端

- 加大了宿主的体积，增加了宿主的编译打包时间
- 在打包中如果出现error会终止整个应用的打包
- 在运行中有引起全局崩溃的风险
- CSS无法做到样式隔离
- 没有JS的安全沙箱机制
- 发布不灵活，发布步骤多，宿主需要频繁更新package.json
- 版本太多，杂乱不易管理
- 无法独立发布运维

## 需要解决的问题

- 如何做到路由保持
- 如何做到CSS样式隔离
- 如何做到JS的安全沙箱
- 如何做到子应用根据路由按需加载
- 主应用如何与子应用通信

## qiankun微前端的不足

- 暂时无法复用common模块
- 依赖会被重复打包，导致加载速度不如以前



## What’s next？

- SSR？
- Webpack 5 Module Federation?
- common模块cdn化？
- 标品化 & 二开？
- dice 主应用faas化？

## 参考文档

[了解什么是微前端](https://zhuanlan.zhihu.com/p/82965940)

